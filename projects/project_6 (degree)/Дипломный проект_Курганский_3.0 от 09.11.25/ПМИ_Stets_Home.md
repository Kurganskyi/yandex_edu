# Программа и методика испытаний (ПМИ)

## Объект испытаний

Мобильное приложение "Stets Home" версии 1.0 (прототип)

---

## Цель испытаний

Проверить соответствие прототипа мобильного приложения "Stets Home" требованиям MVP, определенным в первой части дипломного проекта. Убедиться, что все 22 функции MVP реализованы в прототипе и соответствуют описанным пользовательским историям с критериями приемки и Gherkin-сценариями.

---

## Требования к программе

Прототип должен реализовывать следующие функции MVP:

### АКТИВНОСТЬ 1: Войти в приложение

**US-001:** Регистрация нового пользователя  
**US-002:** Автосоздание первого дома  
**US-003:** Вход в приложение  
**US-004:** Восстановление пароля  
**US-005:** Изменение email  
**US-006:** Выход из приложения

### АКТИВНОСТЬ 2: Организовать умный дом

**US-007:** Создание комнат  
**US-008:** Редактирование комнат  
**US-009:** Удаление комнат  
**US-010:** Добавление устройства через QR-код  
**US-011:** Добавление устройства вручную  
**US-012:** Предотвращение дубликатов устройств  
**US-013:** Привязка устройства к комнате  
**US-014:** Удаление устройства  
**US-044:** Удаление устройства из комнаты

### АКТИВНОСТЬ 3: Управлять умным домом

**US-015:** Включение/выключение устройства  
**US-016:** Управление режимом энергосбережения  
**US-017:** Управление всеми устройствами комнаты  
**US-018:** Создание сценария  
**US-019:** Ручной запуск сценария  
**US-020:** Настройка расписания сценария  
**US-021:** Удаление сценария

**Всего функций MVP:** 22

---

## Требования к программной документации

Для проведения испытаний необходимы следующие документы:

1. **Программа и методика испытаний (ПМИ)** - настоящий документ
2. **Карта пользовательских историй** - документ с описанием всех пользовательских историй, критериев приемки и Gherkin-сценариев
3. **Диаграммы потоков данных (DFD)** - контекстная и логическая диаграммы
4. **ER-диаграмма** - модель данных приложения
5. **Словарь данных** - описание всех элементов данных
6. **Диаграмма структуры интерфейса** - структура экранов приложения
7. **Список экранов прототипа** - детальное описание всех экранов с элементами интерфейса

---

## Средства и порядок испытаний

### Средства испытаний

1. **Прототип приложения:**
   - Интерактивный или статический прототип в Figma
   - Доступ к прототипу через веб-интерфейс Figma
   - Размер экранов: iPhone 13 mini (375 × 812)

2. **Оборудование:**
   - Компьютер или ноутбук с доступом в интернет
   - Мобильное устройство (iOS/Android) или эмулятор для тестирования навигации (опционально)
   - Браузер для просмотра прототипа в Figma

3. **Документация:**
   - Все документы из первой части дипломного проекта
   - Список экранов прототипа
   - Карта пользовательских историй

### Порядок испытаний

1. **Подготовка:**
   - Открыть прототип в Figma
   - Иметь под рукой карту пользовательских историй и список экранов
   - Подготовить чек-лист для отметки выполненных проверок

2. **Проведение испытаний:**
   - Последовательно проходить по всем функциям MVP согласно методике испытаний
   - Для каждой функции выполнять шаги проверки
   - Фиксировать результаты (успех/ошибка) и замечания

3. **Документирование результатов:**
   - Заполнить таблицу результатов испытаний
   - Отметить найденные несоответствия требованиям
   - Подготовить отчет о результатах испытаний

---

## Методика испытаний

### Таблица методики испытаний

| Требование | Предусловия | Шаг проверки | Ожидаемый результат | Связанные Gherkin-сценарии |
| --- | --- | --- | --- | --- |
| **US-001: Регистрация нового пользователя** | Пользователь впервые открыл приложение | 1. Открыть экран регистрации (нажать "Зарегистрироваться" на экране входа).<br>2. Заполнить поле "Имя" валидным значением (например, "Михаил").<br>3. Заполнить поле "Email" валидным email (например, "mikhail@email.com").<br>4. Заполнить поле "Пароль" паролем, соответствующим требованиям (8-16 символов, строчные и прописные буквы, например "MyPass123").<br>5. Заполнить поле "Повторите пароль" тем же паролем.<br>6. Нажать кнопку "Создать аккаунт". | Кнопка становится активной при заполнении всех полей. После нажатия пользователь успешно зарегистрирован. На главном экране отображается дом "Мой дом". Пользователь попадает на главный экран (Dashboard). | US-001: Сценарий 1 (Успешная регистрация) |
| **US-001: Регистрация - невалидный email** | Пользователь на экране регистрации | 1. Повторить шаги US-001, но указать невалидный email (например, "invalid-email").<br>2. Нажать "Создать аккаунт". | Поле email подсвечивается красным. Отображается подсказка "Неверный формат email". Регистрация не выполняется. | US-001: Сценарий 2 (Невалидный email) |
| **US-001: Регистрация - невалидный пароль** | Пользователь на экране регистрации | 1. Повторить шаги US-001, но указать пароль, не соответствующий требованиям (например, "123").<br>2. Нажать "Создать аккаунт". | Поле пароля подсвечивается красным. Отображается сообщение "Пароль должен содержать 8-16 символов, включая строчные и прописные буквы". Регистрация не выполняется. | US-001: Сценарий 3 (Невалидный пароль) |
| **US-001: Регистрация - дубликат email** | В системе уже существует пользователь с указанным email | 1. Повторить шаги US-001, но указать email существующего пользователя (например, "existing@email.com").<br>2. Нажать "Создать аккаунт". | Отображается сообщение "Email уже зарегистрирован". Регистрация не выполняется. | US-001: Сценарий 4 (Дубликат email) |
| **US-002: Автосоздание первого дома** | Пользователь успешно завершил регистрацию | 1. Выполнить успешную регистрацию (US-001).<br>2. Проверить главный экран после регистрации. | Автоматически создается дом "Мой дом". Дом отображается на главном экране. Пользователь имеет роль владельца дома. | US-002: Сценарий (Автосоздание первого дома) |
| **US-003: Вход в приложение - успешный** | Пользователь зарегистрирован в системе | 1. Открыть экран входа.<br>2. Ввести корректный email зарегистрированного пользователя.<br>3. Ввести корректный пароль.<br>4. Нажать кнопку "Войти". | Создается сессия пользователя. Отображается главный экран с домами пользователя. Пользователь авторизован. | US-003: Сценарий 1 (Успешный вход) |
| **US-003: Вход - неверные данные** | Пользователь пытается войти в систему | 1. Открыть экран входа.<br>2. Ввести неверный email или пароль.<br>3. Нажать кнопку "Войти". | Система показывает сообщение "Неверный email или пароль". Пользователь не авторизован. Остается на экране входа. | US-003: Сценарий 2 (Вход с неверными данными) |
| **US-004: Восстановление пароля - запрос** | Пользователь на экране входа | 1. На экране входа нажать ссылку "Забыли пароль?".<br>2. Ввести email существующего пользователя.<br>3. Нажать кнопку "Отправить". | Система отправляет письмо со ссылкой. Отображается сообщение "Проверьте почту". | US-004: Сценарий 1 (Запрос восстановления) |
| **US-004: Восстановление пароля - смена** | Пользователь открыл актуальную ссылку восстановления | 1. Открыть ссылку восстановления из письма.<br>2. Ввести новый пароль, соответствующий требованиям (8-16 символов, строчные и прописные буквы).<br>3. Повторить пароль.<br>4. Нажать "Сохранить пароль". | Пароль обновляется. Отображается сообщение об успехе. Пользователь может войти в систему с новым паролем. | US-004: Сценарий 3 (Смена пароля) |
| **US-004: Восстановление пароля - просроченная ссылка** | Пользователь открыл ссылку восстановления позже 24 часов | 1. Открыть просроченную ссылку восстановления.<br>2. Попытаться ввести новый пароль. | Система сообщает "Ссылка истекла". Пароль не меняется. | US-004: Сценарий 2 (Просроченная ссылка) |
| **US-005: Изменение email - успешное** | Пользователь авторизован и открыл профиль | 1. Открыть экран профиля.<br>2. Нажать кнопку "Изменить email".<br>3. Ввести новый валидный email.<br>4. Ввести текущий пароль для подтверждения.<br>5. Нажать "Сохранить". | Система сохраняет новый email в статусе "ожидает подтверждения". Отправляется письмо на новый email. Отображается сообщение об успехе. | US-005: Сценарий 1 (Успешное изменение) |
| **US-005: Изменение email - невалидный** | Пользователь на форме изменения email | 1. Повторить шаги US-005, но ввести email в неверном формате.<br>2. Нажать "Сохранить". | Система выводит сообщение "Неверный формат email". Изменения не сохраняются. | US-005: Сценарий 2 (Невалидный email) |
| **US-005: Изменение email - дубликат** | В системе уже есть пользователь с введенным email | 1. Повторить шаги US-005, но ввести email существующего пользователя.<br>2. Нажать "Сохранить". | Отображается сообщение "Email уже зарегистрирован". Изменения не сохраняются. | US-005: Сценарий 3 (Email уже используется) |
| **US-006: Выход из приложения** | Пользователь авторизован | 1. Открыть экран профиля.<br>2. Нажать кнопку "Выйти".<br>3. Подтвердить выход (если требуется). | Приложение удаляет локальные токены. Сервер закрывает сессию. Отображается экран входа. Для доступа требуется повторная авторизация. | US-006: Сценарий (Выход из приложения) |
| **US-007: Создание комнат - успешное** | Пользователь находится на главном экране дома | 1. На главном экране нажать "Добавить комнату".<br>2. Ввести название комнаты (например, "Главная спальня").<br>3. Выбрать тип комнаты (например, "Спальня").<br>4. Выбрать иконку комнаты.<br>5. Нажать "Создать". | Комната добавляется в дом. Комната отображается в списке комнат на главном экране. | US-007: Сценарий 1 (Создание комнаты) |
| **US-007: Создание комнат - превышение лимита** | В доме уже 10 комнат | 1. Повторить шаги US-007, но при наличии 10 комнат.<br>2. Попытаться создать еще одну комнату. | Система показывает ошибку "Максимум 10 комнат на дом". Комната не создается. | US-007: Сценарий 2 (Превышение лимита) |
| **US-007: Создание комнат - пустое название** | Пользователь в мастере создания комнаты | 1. Открыть экран добавления комнаты.<br>2. Оставить поле названия пустым.<br>3. Попытаться сохранить. | Система отображает ошибку "Название обязательно". Комната не создается. | US-007: Сценарий 3 (Пустое название) |
| **US-008: Редактирование комнат** | Пользователь смотрит список комнат | 1. Открыть экран комнаты.<br>2. Нажать кнопку "Редактировать".<br>3. Изменить название, тип или иконку комнаты.<br>4. Нажать "Сохранить". | Комната обновляется с новыми данными. Изменения сразу отображаются в интерфейсе. Устройства остаются привязанными к комнате. | US-008: Сценарий (Редактирование комнат) |
| **US-009: Удаление комнат - пустая комната** | Комната "Коридор" не содержит устройств | 1. Открыть экран редактирования комнаты.<br>2. Нажать кнопку "Удалить комнату".<br>3. Подтвердить удаление. | Комната удаляется из списка. Комната больше не отображается на главном экране. | US-009: Сценарий 1 (Удаление пустой комнаты) |
| **US-009: Удаление комнат - комната с устройствами** | Комната "Спальня" содержит устройства | 1. Открыть экран редактирования комнаты с устройствами.<br>2. Попытаться удалить комнату. | Система показывает предупреждение "В комнате есть устройства. Сначала переместите их в другие комнаты". Удаление отменяется. | US-009: Сценарий 2 (Удаление комнаты с устройствами) |
| **US-010: Добавление устройства через QR-код - успешное** | Пользователь находится на экране "Добавить устройство" | 1. На экране добавления устройства выбрать "Сканировать QR-код".<br>2. Направить камеру на валидный QR-код (12 цифр).<br>3. Подтвердить добавление. | Устройство добавляется в дом. Отображается в списке устройств. Предлагается выбрать комнату. Устройство названо по модели. | US-010: Сценарий 1 (Успешное добавление) |
| **US-010: Добавление устройства - невалидный QR** | Пользователь сканирует QR-код | 1. Повторить шаги US-010, но отсканировать QR-код с невалидным форматом (не 12 цифр). | Система показывает ошибку "Неверный код устройства". Добавление отменяется. | US-010: Сценарий 2 (Невалидный QR) |
| **US-010: Добавление устройства - превышение лимита** | В доме уже 100 устройств | 1. Повторить шаги US-010, но при наличии 100 устройств в доме.<br>2. Попытаться добавить новое устройство. | Система сообщает "Максимум 100 устройств на дом". Устройство не добавляется. | US-010: Сценарий 3 (Превышение лимита) |
| **US-011: Добавление устройства вручную** | Пользователь находится в мастере добавления устройства | 1. На экране добавления устройства выбрать "Ввести код вручную".<br>2. Ввести валидный 12-значный код (например, "123456789012").<br>3. Нажать "Добавить". | Система валидирует формат кода. Находит устройство. Добавляет его в дом. Предлагает выбрать комнату. | US-011: Сценарий (Добавление устройства вручную) |
| **US-012: Предотвращение дубликатов устройств** | В доме уже есть устройство с кодом "123456789012" | 1. Попытаться добавить устройство с тем же кодом (через QR или вручную).<br>2. Подтвердить добавление. | Система сообщает "Устройство уже добавлено в дом". Дубликат не создается. В базе остается только одна запись устройства. | US-012: Сценарий (Предотвращение дубликатов устройств) |
| **US-013: Привязка устройства к комнате** | Устройство уже добавлено в дом | 1. Открыть карточку устройства.<br>2. Нажать "Настроить устройство".<br>3. Выбрать комнату из списка (или оставить "Без комнаты").<br>4. Сохранить изменения. | Устройство привязывается к выбранной комнате. Устройство отображается в списке устройств выбранной комнаты. | US-013: Сценарий (Привязка устройства к комнате) |
| **US-014: Удаление устройства** | Устройство "Лампочка в спальне" есть в доме | 1. Открыть карточку устройства.<br>2. Нажать "Удалить устройство".<br>3. Подтвердить удаление в диалоге. | Устройство удаляется из дома. Устройство перестает отображаться в общих списках и комнатах. Все настройки устройства удаляются. | US-014: Сценарий (Удаление устройства) |
| **US-044: Удаление устройства из комнаты** | Устройство "Лампочка" привязано к комнате "Спальня" | 1. Открыть карточку устройства в комнате.<br>2. Нажать "Удалить из комнаты".<br>3. Подтвердить действие. | Устройство отвязывается от комнаты. Устройство остается в доме без привязки. Устройство отображается в списке устройств без комнаты. Пользователь может затем назначить другую комнату. | US-044: Сценарий (Удаление устройства из комнаты) |
| **US-015: Включение/выключение устройства - включение** | Устройство "Лампочка" выключено | 1. Открыть список устройств или экран устройства.<br>2. Нажать переключатель включения/выключения. | Устройство включается. Статус меняется на "включено". Индикатор освещается. Время реакции менее 2 секунд. | US-015: Сценарий 1 (Включение устройства) |
| **US-015: Включение/выключение устройства - недоступно** | Устройство потеряло связь | 1. Попытаться включить недоступное устройство.<br>2. Нажать переключатель. | Система показывает статус "недоступно". Команда не выполняется. Переключатель неактивен. | US-015: Сценарий 2 (Устройство недоступно) |
| **US-016: Управление режимом энергосбережения - включение** | Устройство "Лампочка" включено | 1. Открыть карточку устройства.<br>2. Нажать переключатель "Энергосбережение". | Режим энергосбережения активируется. Отображается индикатор режима. Устройство реагирует на команды медленнее (до 5 секунд). Потребление энергии снижается. | US-016: Сценарий 1 (Включение энергосбережения) |
| **US-016: Управление режимом энергосбережения - выключенное устройство** | Устройство выключено | 1. Попытаться включить энергосбережение на выключенном устройстве.<br>2. Нажать переключатель режима. | Система сообщает "Сначала включите устройство". Режим не активируется. Переключатель неактивен. | US-016: Сценарий 2 (Попытка включить на выключенном устройстве) |
| **US-017: Управление всеми устройствами комнаты - включить все** | В комнате "Спальня" три устройства, одно из них выключено | 1. Открыть экран комнаты.<br>2. Нажать кнопку "Включить всё". | Все устройства комнаты переходят в состояние "включено". Статусы обновляются в интерфейсе. Устройства вне комнаты не затрагиваются. | US-017: Сценарий 1 (Включить все устройства) |
| **US-017: Управление всеми устройствами комнаты - выключить все** | Все устройства комнаты включены | 1. Открыть экран комнаты.<br>2. Нажать кнопку "Выключить всё". | Все устройства комнаты выключаются. Статусы показывают "выключено". Устройства вне комнаты не затрагиваются. | US-017: Сценарий 2 (Выключить все устройства) |
| **US-018: Создание сценария - успешное** | Пользователь находится на экране "Сценарии" | 1. Нажать "Создать сценарий".<br>2. Ввести название "Утренний свет" (до 30 символов).<br>3. Добавить устройства (например, "Лампочка в спальне" и "Лампочка в ванной").<br>4. Установить действие "включить" для каждого устройства.<br>5. Сохранить сценарий. | Сценарий создается. Сценарий отображается в общем списке сценариев. | US-018: Сценарий 1 (Создание сценария "Утро") |
| **US-018: Создание сценария - превышение лимита** | В доме уже создано 10 сценариев | 1. Попытаться создать еще один сценарий (11-й).<br>2. Сохранить сценарий. | Система выводит сообщение "Максимум 10 сценариев на дом". Сценарий не создается. | US-018: Сценарий 2 (Превышение лимита сценариев) |
| **US-018: Создание сценария - длинное название** | Пользователь вводит название длиннее 30 символов | 1. При создании сценария ввести название длиннее 30 символов.<br>2. Попытаться сохранить. | Система показывает ошибку "Название должно быть не более 30 символов". Сценарий не создается. | US-018: Сценарий 3 (Слишком длинное название) |
| **US-019: Ручной запуск сценария - успешный** | Сценарий "Утренний свет" создан и содержит несколько устройств | 1. Открыть список сценариев.<br>2. Нажать кнопку запуска на карточке сценария "Утренний свет". | Устройства выполняют свои действия по порядку. Интерфейс показывает статус "Сценарий выполнен". Все доступные устройства включены. | US-019: Сценарий 1 (Успешный запуск) |
| **US-019: Ручной запуск сценария - недоступное устройство** | Одно из устройств сценария недоступно | 1. Запустить сценарий, содержащий недоступное устройство.<br>2. Нажать кнопку запуска. | Недоступное устройство пропускается. Остальные устройства выполняют действия. Отображается предупреждение о пропущенном устройстве. | US-019: Сценарий 2 (Недоступное устройство) |
| **US-020: Настройка расписания сценария - с расписанием** | Сценарий "Утренний свет" создан | 1. Открыть карточку сценария.<br>2. Нажать "Настроить расписание".<br>3. Включить расписание.<br>4. Выбрать дни "Пн-Пт".<br>5. Задать время начала "07:00".<br>6. Задать время окончания "08:00" (опционально).<br>7. Сохранить изменения. | Сценарий автоматически запускается в 07:00 в будни. Если указано время окончания, устройства выключаются в 08:00. Расписание активно. | US-020: Сценарий 1 (Настройка расписания) |
| **US-020: Настройка расписания сценария - только ручной запуск** | Сценарий создан | 1. Открыть настройки расписания сценария.<br>2. Оставить расписание выключенным.<br>3. Сохранить настройки. | Сценарий доступен только для ручного запуска. Автоматический запуск не выполняется. | US-020: Сценарий 2 (Только ручной запуск) |
| **US-021: Удаление сценария** | Существует сценарий "Старый сценарий" | 1. Открыть список сценариев.<br>2. Выбрать сценарий "Старый сценарий".<br>3. Нажать "Удалить сценарий".<br>4. Подтвердить действие в диалоге. | Сценарий удаляется из базы. Сценарий пропадает из списка. Сценарий больше не запускается автоматически. | US-021: Сценарий (Удаление сценария) |

