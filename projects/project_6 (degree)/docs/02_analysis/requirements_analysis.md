# Анализ требований и разрешение противоречий

## Контекст проекта

Компания Stets разработала инновационное решение для энергосбережения умных устройств и нуждается в собственном приложении для управления умным домом. В процессе интервью с заказчиком и пользователями выявлены противоречия в требованиях, которые требуют разрешения перед началом разработки MVP.

## Матрица анализа требований

| Требование | Заказчик (Настя) | Пользователь 1 (Александра) | Пользователь 2 (Сергей) | Бизнес-ценность | Техническая сложность | Приоритет MoSCoW | Решение |
|------------|------------------|----------------------------|-------------------------|-----------------|----------------------|------------------|---------|
| **Сценарии автоматизации** | НЕ в MVP ("пользователи не часто пользуются") | КРИТИЧНО ("самая крутая фишка, без этого не вижу смысла") | Интересно ("хотел бы попробовать") | Высокая (дифференциатор) | Средняя | **MUST** | **Включить в MVP** |
| **Изменение названия устройств** | НЕ в MVP | Желательно ("люблю давать имена") | - | Низкая | Низкая | SHOULD | Не в MVP |
| **Настройка яркости/цвета** | НЕ в MVP | Желательно ("боюсь темноты") | Интересно ("изучаю цвета") | Средняя | Высокая | COULD | Не в MVP |
| **Режим энергосбережения** | КРИТИЧНО (уникальная функция) | Хочет попробовать | Хочет попробовать | Очень высокая | Средняя | **MUST** | **Включить в MVP** |
| **Добавление членов семьи** | КРИТИЧНО | Нужно ("живу с соседкой") | Нужно ("живу с женой") | Высокая | Средняя | **MUST** | **Включить в MVP** |
| **QR-код + ручной ввод** | Нужно подумать | КРИТИЧНО ("QR не работает, кошка играет с коробками") | Удобно | Высокая | Низкая | **MUST** | **Включить в MVP** |
| **Предотвращение дубликатов** | Нужно подумать | КРИТИЧНО ("дважды отсканировала") | - | Высокая | Низкая | **MUST** | **Включить в MVP** |
| **Пуш-уведомления** | Планируется | Не важно ("многих раздражают") | Не важно | Средняя | Средняя | COULD | Не в MVP |
| **Авторизация через Google/Яндекс** | Не обсуждалось | Желательно | Желательно | Средняя | Высокая | COULD | Не в MVP |

## Критические противоречия и решения

### 1. Сценарии автоматизации

**Противоречие:** Заказчик считает автоматизацию неважной для MVP, но опытный пользователь (Александра) называет её критически важной.

**Анализ:**
- Александра - продвинутый пользователь с множеством устройств Stets
- Сергей - новичок, но заинтересован в изучении
- Конкурентный анализ: большинство приложений умного дома имеют базовую автоматизацию

**Решение:** Включить базовые сценарии автоматизации в MVP
- Обоснование: дифференциация от конкурентов, удержание продвинутых пользователей
- Ограничение: простые сценарии (включение/выключение по расписанию и вручную)

### 2. Функции настройки устройств

**Противоречие:** Пользователи хотят настройку яркости/цвета, заказчик считает это неважным для MVP.

**Решение:** Исключить из MVP
- Обоснование: высокая техническая сложность, низкая бизнес-ценность для MVP
- Планируется для следующих версий

## Приоритизация по MoSCoW

### MUST HAVE (MVP)
1. **Аутентификация и управление учетной записью**
   - Регистрация, вход, восстановление пароля
   - Изменение email, выход

2. **Управление домом и комнатами**
   - Автосоздание первого дома при регистрации
   - CRUD операции с комнатами (до 10 на дом)
   - Тип комнаты и иконки

3. **Управление устройствами**
   - Добавление через QR-код и ручной ввод
   - Предотвращение дубликатов устройств
   - Включение/выключение устройств
   - Режим энергосбережения
   - Привязка к комнатам (опционально)
   - Групповое управление по комнате

4. **Базовые сценарии автоматизации**
   - Создание простых сценариев
   - Ручной запуск и запуск по расписанию
   - Выбор устройств и действий (включить/выключить)

5. **Совместный доступ**
   - Добавление членов семьи к дому
   - Роли владельца и члена семьи

### SHOULD HAVE (Версия 2.0)
1. Изменение названий устройств
2. Расширенные сценарии автоматизации
3. Уведомления о статусе устройств

### COULD HAVE (Будущие версии)
1. Настройка яркости и цвета лампочек
2. Пуш-уведомления и новостные рассылки
3. Авторизация через Google/Яндекс
4. Поддержка устройств других производителей

### WON'T HAVE (Не планируется)
1. Сложная аналитика потребления энергии
2. Интеграция с внешними системами умного дома

## Технические ограничения и правила

### Ограничения данных
- Максимум 10 домов на пользователя
- Максимум 10 комнат на дом
- Максимум 100 устройств на дом
- Максимум 10 сценариев на дом
- Код устройства: ровно 12 цифр
- Название сценария: до 30 символов

### Требования к паролю
- Длина: 8-16 символов
- Минимум 1 строчная буква латиницы
- Минимум 1 прописная буква латиницы

### Статусы устройств
- Включено (on)
- Выключено (off)
- Недоступно (unavailable)

## Риски и митигация

| Риск | Вероятность | Влияние | Митигация |
|------|-------------|---------|-----------|
| Заказчик не согласится с включением сценариев в MVP | Высокая | Критическое | Подготовить обоснование с конкурентным анализом и примерами использования |
| Техническая сложность реализации энергосбережения | Средняя | Высокое | Консультация с разработчиками IoT-устройств |
| Недооценка времени на разработку | Высокая | Высокое | Agile-подход, итеративная разработка |
| Изменение требований в процессе | Высокая | Среднее | Гибкая архитектура, модульный подход |

## Рекомендации для следующего этапа

1. **Согласовать матрицу требований с заказчиком** перед началом детального проектирования
2. **Провести техническое интервью** с разработчиками IoT-устройств для понимания ограничений
3. **Создать прототип ключевых экранов** для валидации UX-решений
4. **Подготовить план тестирования** с учетом критических пользовательских сценариев

## Заключение

Основное противоречие между заказчиком и пользователями касается включения сценариев автоматизации в MVP. Рекомендуется включить базовую автоматизацию в MVP для обеспечения конкурентного преимущества и удовлетворения потребностей продвинутых пользователей. Остальные спорные функции отложены на следующие версии с учетом технической сложности и бизнес-ценности.
